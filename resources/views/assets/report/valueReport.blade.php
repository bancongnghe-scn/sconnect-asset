@extends('assets.report.baseReport')

@section('content')
@include('assets.report.components.tabBar')
    <div x-data="valueReport">
        <div class="row">
            <div class="col-xxl-6 col-sm-12">
                <div x-data="chartComponent()" x-init="fetchDataAndInitChart" style="background: #fff; padding: 30px; border-radius: 15px;">
                    <h5 class="mb-3" style="font-weight: 600;">Biểu đồ biến động giá trị tài sản</h5>
                    <span>Đơn vị: <span id="unitValueChart"></span> đồng</span>
                    <canvas id="barChart"></canvas>
                </div>
            </div>
            <div class="col-xxl-6 col-sm-12">
                <div style="background: #fff; padding: 30px; border-radius: 15px;" x-data="fetchDataComponent()" x-init="fetchData()">
                    <h5 class="mb-3" style="font-weight: 600;">Bảng biến động giá trị tài sản qua các kỳ</h5>
                    <table class="table table-bordered">
                        <thead>
                        <tr>
                            <th class="text-center">Kỳ</th>
                            <th class="text-center">Tổng giá trị</th>
                            <th scope="col">So với kỳ trước</th>
                            <th class="text-center">Xu hướng</th>
                        </tr>
                        </thead>
                        <tbody>
                        <template x-for="(value, index) in values">
                            <tr>
                                <td class="text-center" x-text="labels[index]"></td>
                                <td class="text-center text-bold" x-text="value"></td>
                                <td x-text="index >= 1 ? arrDifference[index-1].change : ''"></td>
                                <template x-if="index >= 1 && arrDifference[index-1].trend == 1">
                                    <td class="text-center">
                                        <svg width="45" height="22" viewBox="0 0 45 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <rect x="0.5" y="0.5" width="44" height="21" rx="7.5" fill="#FFF1F0"/>
                                            <rect x="0.5" y="0.5" width="44" height="21" rx="7.5" stroke="#FFA39E"/>
                                            <path d="M15.2949 10.752V13.875C15.1895 14.0312 15.0215 14.207 14.791 14.4023C14.5605 14.5938 14.2422 14.7617 13.8359 14.9062C13.4336 15.0469 12.9141 15.1172 12.2773 15.1172C11.7578 15.1172 11.2793 15.0273 10.8418 14.8477C10.4082 14.6641 10.0312 14.3984 9.71094 14.0508C9.39453 13.6992 9.14844 13.2734 8.97266 12.7734C8.80078 12.2695 8.71484 11.6992 8.71484 11.0625V10.4004C8.71484 9.76367 8.78906 9.19531 8.9375 8.69531C9.08984 8.19531 9.3125 7.77148 9.60547 7.42383C9.89844 7.07227 10.2578 6.80664 10.6836 6.62695C11.1094 6.44336 11.5977 6.35156 12.1484 6.35156C12.8008 6.35156 13.3457 6.46484 13.7832 6.69141C14.2246 6.91406 14.5684 7.22266 14.8145 7.61719C15.0645 8.01172 15.2246 8.46094 15.2949 8.96484H14.1641C14.1133 8.65625 14.0117 8.375 13.8594 8.12109C13.7109 7.86719 13.498 7.66406 13.2207 7.51172C12.9434 7.35547 12.5859 7.27734 12.1484 7.27734C11.7539 7.27734 11.4121 7.34961 11.123 7.49414C10.834 7.63867 10.5957 7.8457 10.4082 8.11523C10.2207 8.38477 10.0801 8.71094 9.98633 9.09375C9.89648 9.47656 9.85156 9.9082 9.85156 10.3887V11.0625C9.85156 11.5547 9.9082 11.9941 10.0215 12.3809C10.1387 12.7676 10.3047 13.0977 10.5195 13.3711C10.7344 13.6406 10.9902 13.8457 11.2871 13.9863C11.5879 14.127 11.9199 14.1973 12.2832 14.1973C12.6855 14.1973 13.0117 14.1641 13.2617 14.0977C13.5117 14.0273 13.707 13.9453 13.8477 13.8516C13.9883 13.7539 14.0957 13.6621 14.1699 13.5762V11.666H12.1953V10.752H15.2949ZM18.1836 8.66016V15H17.0938V8.66016H18.1836ZM17.0117 6.97852C17.0117 6.80273 17.0645 6.6543 17.1699 6.5332C17.2793 6.41211 17.4395 6.35156 17.6504 6.35156C17.8574 6.35156 18.0156 6.41211 18.125 6.5332C18.2383 6.6543 18.2949 6.80273 18.2949 6.97852C18.2949 7.14648 18.2383 7.29102 18.125 7.41211C18.0156 7.5293 17.8574 7.58789 17.6504 7.58789C17.4395 7.58789 17.2793 7.5293 17.1699 7.41211C17.0645 7.29102 17.0117 7.14648 17.0117 6.97852ZM23.6621 13.916V10.6523C23.6621 10.4023 23.6113 10.1855 23.5098 10.002C23.4121 9.81445 23.2637 9.66992 23.0645 9.56836C22.8652 9.4668 22.6191 9.41602 22.3262 9.41602C22.0527 9.41602 21.8125 9.46289 21.6055 9.55664C21.4023 9.65039 21.2422 9.77344 21.125 9.92578C21.0117 10.0781 20.9551 10.2422 20.9551 10.418H19.8711C19.8711 10.1914 19.9297 9.9668 20.0469 9.74414C20.1641 9.52148 20.332 9.32031 20.5508 9.14062C20.7734 8.95703 21.0391 8.8125 21.3477 8.70703C21.6602 8.59766 22.0078 8.54297 22.3906 8.54297C22.8516 8.54297 23.2578 8.62109 23.6094 8.77734C23.9648 8.93359 24.2422 9.16992 24.4414 9.48633C24.6445 9.79883 24.7461 10.1914 24.7461 10.6641V13.6172C24.7461 13.8281 24.7637 14.0527 24.7988 14.291C24.8379 14.5293 24.8945 14.7344 24.9688 14.9062V15H23.8379C23.7832 14.875 23.7402 14.709 23.709 14.502C23.6777 14.291 23.6621 14.0957 23.6621 13.916ZM23.8496 11.1562L23.8613 11.918H22.7656C22.457 11.918 22.1816 11.9434 21.9395 11.9941C21.6973 12.041 21.4941 12.1133 21.3301 12.2109C21.166 12.3086 21.041 12.4316 20.9551 12.5801C20.8691 12.7246 20.8262 12.8945 20.8262 13.0898C20.8262 13.2891 20.8711 13.4707 20.9609 13.6348C21.0508 13.7988 21.1855 13.9297 21.3652 14.0273C21.5488 14.1211 21.7734 14.168 22.0391 14.168C22.3711 14.168 22.6641 14.0977 22.918 13.957C23.1719 13.8164 23.373 13.6445 23.5215 13.4414C23.6738 13.2383 23.7559 13.041 23.7676 12.8496L24.2305 13.3711C24.2031 13.5352 24.1289 13.7168 24.0078 13.916C23.8867 14.1152 23.7246 14.3066 23.5215 14.4902C23.3223 14.6699 23.084 14.8203 22.8066 14.9414C22.5332 15.0586 22.2246 15.1172 21.8809 15.1172C21.4512 15.1172 21.0742 15.0332 20.75 14.8652C20.4297 14.6973 20.1797 14.4727 20 14.1914C19.8242 13.9062 19.7363 13.5879 19.7363 13.2363C19.7363 12.8965 19.8027 12.5977 19.9355 12.3398C20.0684 12.0781 20.2598 11.8613 20.5098 11.6895C20.7598 11.5137 21.0605 11.3809 21.4121 11.291C21.7637 11.2012 22.1562 11.1562 22.5898 11.1562H23.8496ZM22.918 7.62891H22.1387L22.1328 6.73828C22.332 6.72656 22.4941 6.70703 22.6191 6.67969C22.7441 6.64844 22.8359 6.60352 22.8945 6.54492C22.9531 6.48242 22.9824 6.40039 22.9824 6.29883C22.9824 6.2168 22.957 6.14844 22.9062 6.09375C22.8555 6.03516 22.7852 5.98828 22.6953 5.95312C22.6055 5.91406 22.502 5.88672 22.3848 5.87109C22.2676 5.85547 22.1426 5.84766 22.0098 5.84766L22.0508 5.22656C22.3398 5.22656 22.5938 5.25195 22.8125 5.30273C23.0352 5.35352 23.2207 5.42773 23.3691 5.52539C23.5215 5.62305 23.6348 5.74023 23.709 5.87695C23.7871 6.00977 23.8262 6.1582 23.8262 6.32227C23.8262 6.61914 23.7324 6.83594 23.5449 6.97266C23.3574 7.10547 23.1504 7.1875 22.9238 7.21875L22.918 7.62891ZM27.5293 9.91992V15H26.4395V8.66016H27.4707L27.5293 9.91992ZM27.3066 11.5898L26.8027 11.5723C26.8066 11.1387 26.8633 10.7383 26.9727 10.3711C27.082 10 27.2441 9.67773 27.459 9.4043C27.6738 9.13086 27.9414 8.91992 28.2617 8.77148C28.582 8.61914 28.9531 8.54297 29.375 8.54297C29.6719 8.54297 29.9453 8.58594 30.1953 8.67188C30.4453 8.75391 30.6621 8.88477 30.8457 9.06445C31.0293 9.24414 31.1719 9.47461 31.2734 9.75586C31.375 10.0371 31.4258 10.377 31.4258 10.7754V15H30.3418V10.8281C30.3418 10.4961 30.2852 10.2305 30.1719 10.0312C30.0625 9.83203 29.9062 9.6875 29.7031 9.59766C29.5 9.50391 29.2617 9.45703 28.9883 9.45703C28.668 9.45703 28.4004 9.51367 28.1855 9.62695C27.9707 9.74023 27.7988 9.89648 27.6699 10.0957C27.541 10.2949 27.4473 10.5234 27.3887 10.7812C27.334 11.0352 27.3066 11.3047 27.3066 11.5898ZM31.4141 10.9922L30.6875 11.2148C30.6914 10.8672 30.748 10.5332 30.8574 10.2129C30.9707 9.89258 31.1328 9.60742 31.3438 9.35742C31.5586 9.10742 31.8223 8.91016 32.1348 8.76562C32.4473 8.61719 32.8047 8.54297 33.207 8.54297C33.5469 8.54297 33.8477 8.58789 34.1094 8.67773C34.375 8.76758 34.5977 8.90625 34.7773 9.09375C34.9609 9.27734 35.0996 9.51367 35.1934 9.80273C35.2871 10.0918 35.334 10.4355 35.334 10.834V15H34.2441V10.8223C34.2441 10.4668 34.1875 10.1914 34.0742 9.99609C33.9648 9.79688 33.8086 9.6582 33.6055 9.58008C33.4062 9.49805 33.168 9.45703 32.8906 9.45703C32.6523 9.45703 32.4414 9.49805 32.2578 9.58008C32.0742 9.66211 31.9199 9.77539 31.7949 9.91992C31.6699 10.0605 31.5742 10.2227 31.5078 10.4062C31.4453 10.5898 31.4141 10.7852 31.4141 10.9922Z" fill="#F5222D"/>
                                        </svg>
                                    </td>
                                </template>

                                <template x-if="index >= 1 && arrDifference[index-1].trend == 2">
                                    <td class="text-center">
                                        <svg width="78" height="22" viewBox="0 0 78 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <rect x="1" y="0.5" width="76" height="21" rx="7.5" fill="#E6F7FF"/>
                                        <rect x="1" y="0.5" width="76" height="21" rx="7.5" stroke="#91D5FF"/>
                                        <path d="M15.7949 10.752V13.875C15.6895 14.0312 15.5215 14.207 15.291 14.4023C15.0605 14.5938 14.7422 14.7617 14.3359 14.9062C13.9336 15.0469 13.4141 15.1172 12.7773 15.1172C12.2578 15.1172 11.7793 15.0273 11.3418 14.8477C10.9082 14.6641 10.5312 14.3984 10.2109 14.0508C9.89453 13.6992 9.64844 13.2734 9.47266 12.7734C9.30078 12.2695 9.21484 11.6992 9.21484 11.0625V10.4004C9.21484 9.76367 9.28906 9.19531 9.4375 8.69531C9.58984 8.19531 9.8125 7.77148 10.1055 7.42383C10.3984 7.07227 10.7578 6.80664 11.1836 6.62695C11.6094 6.44336 12.0977 6.35156 12.6484 6.35156C13.3008 6.35156 13.8457 6.46484 14.2832 6.69141C14.7246 6.91406 15.0684 7.22266 15.3145 7.61719C15.5645 8.01172 15.7246 8.46094 15.7949 8.96484H14.6641C14.6133 8.65625 14.5117 8.375 14.3594 8.12109C14.2109 7.86719 13.998 7.66406 13.7207 7.51172C13.4434 7.35547 13.0859 7.27734 12.6484 7.27734C12.2539 7.27734 11.9121 7.34961 11.623 7.49414C11.334 7.63867 11.0957 7.8457 10.9082 8.11523C10.7207 8.38477 10.5801 8.71094 10.4863 9.09375C10.3965 9.47656 10.3516 9.9082 10.3516 10.3887V11.0625C10.3516 11.5547 10.4082 11.9941 10.5215 12.3809C10.6387 12.7676 10.8047 13.0977 11.0195 13.3711C11.2344 13.6406 11.4902 13.8457 11.7871 13.9863C12.0879 14.127 12.4199 14.1973 12.7832 14.1973C13.1855 14.1973 13.5117 14.1641 13.7617 14.0977C14.0117 14.0273 14.207 13.9453 14.3477 13.8516C14.4883 13.7539 14.5957 13.6621 14.6699 13.5762V11.666H12.6953V10.752H15.7949ZM18.6836 8.66016V15H17.5938V8.66016H18.6836ZM17.5117 6.97852C17.5117 6.80273 17.5645 6.6543 17.6699 6.5332C17.7793 6.41211 17.9395 6.35156 18.1504 6.35156C18.3574 6.35156 18.5156 6.41211 18.625 6.5332C18.7383 6.6543 18.7949 6.80273 18.7949 6.97852C18.7949 7.14648 18.7383 7.29102 18.625 7.41211C18.5156 7.5293 18.3574 7.58789 18.1504 7.58789C17.9395 7.58789 17.7793 7.5293 17.6699 7.41211C17.5645 7.29102 17.5117 7.14648 17.5117 6.97852ZM26.3594 8.15039H27.1914C27.1914 8.57617 27.1348 8.93359 27.0215 9.22266C26.9121 9.51172 26.7188 9.72852 26.4414 9.87305C26.1641 10.0176 25.7734 10.0898 25.2695 10.0898V9.42188C25.6211 9.42188 25.873 9.37891 26.0254 9.29297C26.1777 9.20312 26.2715 9.06445 26.3066 8.87695C26.3418 8.68945 26.3594 8.44727 26.3594 8.15039ZM24.3027 13.5352V8.66016H25.3926V15H24.3555L24.3027 13.5352ZM24.5078 12.1992L24.959 12.1875C24.959 12.6094 24.9141 13 24.8242 13.3594C24.7383 13.7148 24.5977 14.0234 24.4023 14.2852C24.207 14.5469 23.9512 14.752 23.6348 14.9004C23.3184 15.0449 22.9336 15.1172 22.4805 15.1172C22.1719 15.1172 21.8887 15.0723 21.6309 14.9824C21.377 14.8926 21.1582 14.7539 20.9746 14.5664C20.791 14.3789 20.6484 14.1348 20.5469 13.834C20.4492 13.5332 20.4004 13.1719 20.4004 12.75V8.66016H21.4844V12.7617C21.4844 13.0469 21.5156 13.2832 21.5781 13.4707C21.6445 13.6543 21.7324 13.8008 21.8418 13.9102C21.9551 14.0156 22.0801 14.0898 22.2168 14.1328C22.3574 14.1758 22.502 14.1973 22.6504 14.1973C23.1113 14.1973 23.4766 14.1094 23.7461 13.9336C24.0156 13.7539 24.209 13.5137 24.3262 13.2129C24.4473 12.9082 24.5078 12.5703 24.5078 12.1992ZM24.3438 6.24023L25.0762 6.30469C25.0762 6.58984 25.0195 6.83984 24.9062 7.05469C24.793 7.26953 24.6406 7.43555 24.4492 7.55273C24.2617 7.66992 24.0488 7.72852 23.8105 7.72852C23.6113 7.72852 23.4473 7.70117 23.3184 7.64648C23.1895 7.58789 23.0742 7.52344 22.9727 7.45312C22.8711 7.37891 22.7637 7.31445 22.6504 7.25977C22.541 7.20117 22.4043 7.17188 22.2402 7.17188C22.0762 7.17188 21.9375 7.23438 21.8242 7.35938C21.7148 7.48438 21.6602 7.63867 21.6602 7.82227L20.9277 7.78711C20.9277 7.50195 20.9824 7.25195 21.0918 7.03711C21.2051 6.81836 21.3574 6.64844 21.5488 6.52734C21.7402 6.40234 21.9531 6.33984 22.1875 6.33984C22.3555 6.33984 22.502 6.36914 22.627 6.42773C22.7559 6.48242 22.877 6.54688 22.9902 6.62109C23.1035 6.69141 23.2207 6.75586 23.3418 6.81445C23.4629 6.86914 23.6016 6.89648 23.7578 6.89648C23.9219 6.89648 24.0605 6.83398 24.1738 6.70898C24.2871 6.58008 24.3438 6.42383 24.3438 6.24023ZM31.9141 10.0137V15H30.8301V8.66016H31.8555L31.9141 10.0137ZM31.6562 11.5898L31.2051 11.5723C31.209 11.1387 31.2734 10.7383 31.3984 10.3711C31.5234 10 31.6992 9.67773 31.9258 9.4043C32.1523 9.13086 32.4219 8.91992 32.7344 8.77148C33.0508 8.61914 33.4004 8.54297 33.7832 8.54297C34.0957 8.54297 34.377 8.58594 34.627 8.67188C34.877 8.75391 35.0898 8.88672 35.2656 9.07031C35.4453 9.25391 35.582 9.49219 35.6758 9.78516C35.7695 10.0742 35.8164 10.4277 35.8164 10.8457V15H34.7266V10.834C34.7266 10.502 34.6777 10.2363 34.5801 10.0371C34.4824 9.83398 34.3398 9.6875 34.1523 9.59766C33.9648 9.50391 33.7344 9.45703 33.4609 9.45703C33.1914 9.45703 32.9453 9.51367 32.7227 9.62695C32.5039 9.74023 32.3145 9.89648 32.1543 10.0957C31.998 10.2949 31.875 10.5234 31.7852 10.7812C31.6992 11.0352 31.6562 11.3047 31.6562 11.5898ZM41.5703 8.66016H42.5547V14.8652C42.5547 15.4238 42.4414 15.9004 42.2148 16.2949C41.9883 16.6895 41.6719 16.9883 41.2656 17.1914C40.8633 17.3984 40.3984 17.502 39.8711 17.502C39.6523 17.502 39.3945 17.4668 39.0977 17.3965C38.8047 17.3301 38.5156 17.2148 38.2305 17.0508C37.9492 16.8906 37.7129 16.6738 37.5215 16.4004L38.0898 15.7559C38.3555 16.0762 38.6328 16.2988 38.9219 16.4238C39.2148 16.5488 39.5039 16.6113 39.7891 16.6113C40.1328 16.6113 40.4297 16.5469 40.6797 16.418C40.9297 16.2891 41.123 16.0977 41.2598 15.8438C41.4004 15.5938 41.4707 15.2852 41.4707 14.918V10.0547L41.5703 8.66016ZM37.2051 11.9004V11.7773C37.2051 11.293 37.2617 10.8535 37.375 10.459C37.4922 10.0605 37.6582 9.71875 37.873 9.43359C38.0918 9.14844 38.3555 8.92969 38.6641 8.77734C38.9727 8.62109 39.3203 8.54297 39.707 8.54297C40.1055 8.54297 40.4531 8.61328 40.75 8.75391C41.0508 8.89062 41.3047 9.0918 41.5117 9.35742C41.7227 9.61914 41.8887 9.93555 42.0098 10.3066C42.1309 10.6777 42.2148 11.0977 42.2617 11.5664V12.1055C42.2188 12.5703 42.1348 12.9883 42.0098 13.3594C41.8887 13.7305 41.7227 14.0469 41.5117 14.3086C41.3047 14.5703 41.0508 14.7715 40.75 14.9121C40.4492 15.0488 40.0977 15.1172 39.6953 15.1172C39.3164 15.1172 38.9727 15.0371 38.6641 14.877C38.3594 14.7168 38.0977 14.4922 37.8789 14.2031C37.6602 13.9141 37.4922 13.5742 37.375 13.1836C37.2617 12.7891 37.2051 12.3613 37.2051 11.9004ZM38.2891 11.7773V11.9004C38.2891 12.2168 38.3203 12.5137 38.3828 12.791C38.4492 13.0684 38.5488 13.3125 38.6816 13.5234C38.8184 13.7344 38.9922 13.9004 39.2031 14.0215C39.4141 14.1387 39.666 14.1973 39.959 14.1973C40.3184 14.1973 40.6152 14.1211 40.8496 13.9688C41.084 13.8164 41.2695 13.6152 41.4062 13.3652C41.5469 13.1152 41.6562 12.8438 41.7344 12.5508V11.1387C41.6914 10.9238 41.625 10.7168 41.5352 10.5176C41.4492 10.3145 41.3359 10.1348 41.1953 9.97852C41.0586 9.81836 40.8887 9.69141 40.6855 9.59766C40.4824 9.50391 40.2441 9.45703 39.9707 9.45703C39.6738 9.45703 39.418 9.51953 39.2031 9.64453C38.9922 9.76562 38.8184 9.93359 38.6816 10.1484C38.5488 10.3594 38.4492 10.6055 38.3828 10.8867C38.3203 11.1641 38.2891 11.4609 38.2891 11.7773ZM48.0801 13.5352V8.66016H49.1699V15H48.1328L48.0801 13.5352ZM48.2852 12.1992L48.7363 12.1875C48.7363 12.6094 48.6914 13 48.6016 13.3594C48.5156 13.7148 48.375 14.0234 48.1797 14.2852C47.9844 14.5469 47.7285 14.752 47.4121 14.9004C47.0957 15.0449 46.7109 15.1172 46.2578 15.1172C45.9492 15.1172 45.666 15.0723 45.4082 14.9824C45.1543 14.8926 44.9355 14.7539 44.752 14.5664C44.5684 14.3789 44.4258 14.1348 44.3242 13.834C44.2266 13.5332 44.1777 13.1719 44.1777 12.75V8.66016H45.2617V12.7617C45.2617 13.0469 45.293 13.2832 45.3555 13.4707C45.4219 13.6543 45.5098 13.8008 45.6191 13.9102C45.7324 14.0156 45.8574 14.0898 45.9941 14.1328C46.1348 14.1758 46.2793 14.1973 46.4277 14.1973C46.8887 14.1973 47.2539 14.1094 47.5234 13.9336C47.793 13.7539 47.9863 13.5137 48.1035 13.2129C48.2246 12.9082 48.2852 12.5703 48.2852 12.1992ZM52.6035 14.3438L54.3672 8.66016H55.5273L52.9844 15.9785C52.9258 16.1348 52.8477 16.3027 52.75 16.4824C52.6562 16.666 52.5352 16.8398 52.3867 17.0039C52.2383 17.168 52.0586 17.3008 51.8477 17.4023C51.6406 17.5078 51.3926 17.5605 51.1035 17.5605C51.0176 17.5605 50.9082 17.5488 50.7754 17.5254C50.6426 17.502 50.5488 17.4824 50.4941 17.4668L50.4883 16.5879C50.5195 16.5918 50.5684 16.5957 50.6348 16.5996C50.7051 16.6074 50.7539 16.6113 50.7812 16.6113C51.0273 16.6113 51.2363 16.5781 51.4082 16.5117C51.5801 16.4492 51.7246 16.3418 51.8418 16.1895C51.9629 16.041 52.0664 15.8359 52.1523 15.5742L52.6035 14.3438ZM51.3086 8.66016L52.9551 13.582L53.2363 14.7246L52.457 15.123L50.125 8.66016H51.3086ZM59.0547 15.1172C58.6133 15.1172 58.2129 15.043 57.8535 14.8945C57.498 14.7422 57.1914 14.5293 56.9336 14.2559C56.6797 13.9824 56.4844 13.6582 56.3477 13.2832C56.2109 12.9082 56.1426 12.498 56.1426 12.0527V11.8066C56.1426 11.291 56.2188 10.832 56.3711 10.4297C56.5234 10.0234 56.7305 9.67969 56.9922 9.39844C57.2539 9.11719 57.5508 8.9043 57.8828 8.75977C58.2148 8.61523 58.5586 8.54297 58.9141 8.54297C59.3672 8.54297 59.7578 8.62109 60.0859 8.77734C60.418 8.93359 60.6895 9.15234 60.9004 9.43359C61.1113 9.71094 61.2676 10.0391 61.3691 10.418C61.4707 10.793 61.5215 11.2031 61.5215 11.6484V12.1348H56.7871V11.25H60.4375V11.168C60.4219 10.8867 60.3633 10.6133 60.2617 10.3477C60.1641 10.082 60.0078 9.86328 59.793 9.69141C59.5781 9.51953 59.2852 9.43359 58.9141 9.43359C58.668 9.43359 58.4414 9.48633 58.2344 9.5918C58.0273 9.69336 57.8496 9.8457 57.7012 10.0488C57.5527 10.252 57.4375 10.5 57.3555 10.793C57.2734 11.0859 57.2324 11.4238 57.2324 11.8066V12.0527C57.2324 12.3535 57.2734 12.6367 57.3555 12.9023C57.4414 13.1641 57.5645 13.3945 57.7246 13.5938C57.8887 13.793 58.0859 13.9492 58.3164 14.0625C58.5508 14.1758 58.8164 14.2324 59.1133 14.2324C59.4961 14.2324 59.8203 14.1543 60.0859 13.998C60.3516 13.8418 60.584 13.6328 60.7832 13.3711L61.4395 13.8926C61.3027 14.0996 61.1289 14.2969 60.918 14.4844C60.707 14.6719 60.4473 14.8242 60.1387 14.9414C59.834 15.0586 59.4727 15.1172 59.0547 15.1172ZM59.2363 6L60.6895 7.59961V7.6582H59.7871L58.9082 6.66797L58.0352 7.6582H57.1445V7.59375L58.5801 6H59.2363ZM63.8711 10.0137V15H62.7871V8.66016H63.8125L63.8711 10.0137ZM63.6133 11.5898L63.1621 11.5723C63.166 11.1387 63.2305 10.7383 63.3555 10.3711C63.4805 10 63.6562 9.67773 63.8828 9.4043C64.1094 9.13086 64.3789 8.91992 64.6914 8.77148C65.0078 8.61914 65.3574 8.54297 65.7402 8.54297C66.0527 8.54297 66.334 8.58594 66.584 8.67188C66.834 8.75391 67.0469 8.88672 67.2227 9.07031C67.4023 9.25391 67.5391 9.49219 67.6328 9.78516C67.7266 10.0742 67.7734 10.4277 67.7734 10.8457V15H66.6836V10.834C66.6836 10.502 66.6348 10.2363 66.5371 10.0371C66.4395 9.83398 66.2969 9.6875 66.1094 9.59766C65.9219 9.50391 65.6914 9.45703 65.418 9.45703C65.1484 9.45703 64.9023 9.51367 64.6797 9.62695C64.4609 9.74023 64.2715 9.89648 64.1113 10.0957C63.9551 10.2949 63.832 10.5234 63.7422 10.7812C63.6562 11.0352 63.6133 11.3047 63.6133 11.5898Z" fill="#1890FF"/>
                                        </svg>
                                    </td>
                                </template>
                                <template x-if="index >= 1 && arrDifference[index-1].trend == 3">
                                    <td class="text-center">
                                        <svg width="44" height="22" viewBox="0 0 44 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <rect x="1" y="0.5" width="42" height="21" rx="7.5" fill="#F6FFED"/>
                                            <rect x="1" y="0.5" width="42" height="21" rx="7.5" stroke="#B7EB8F"/>
                                            <path d="M12.6426 6.46875V15H11.5293V6.46875H12.6426ZM15.3848 6.46875V7.39453H8.79297V6.46875H15.3848ZM19.5566 13.916V10.6523C19.5566 10.4023 19.5059 10.1855 19.4043 10.002C19.3066 9.81445 19.1582 9.66992 18.959 9.56836C18.7598 9.4668 18.5137 9.41602 18.2207 9.41602C17.9473 9.41602 17.707 9.46289 17.5 9.55664C17.2969 9.65039 17.1367 9.77344 17.0195 9.92578C16.9062 10.0781 16.8496 10.2422 16.8496 10.418H15.7656C15.7656 10.1914 15.8242 9.9668 15.9414 9.74414C16.0586 9.52148 16.2266 9.32031 16.4453 9.14062C16.668 8.95703 16.9336 8.8125 17.2422 8.70703C17.5547 8.59766 17.9023 8.54297 18.2852 8.54297C18.7461 8.54297 19.1523 8.62109 19.5039 8.77734C19.8594 8.93359 20.1367 9.16992 20.3359 9.48633C20.5391 9.79883 20.6406 10.1914 20.6406 10.6641V13.6172C20.6406 13.8281 20.6582 14.0527 20.6934 14.291C20.7324 14.5293 20.7891 14.7344 20.8633 14.9062V15H19.7324C19.6777 14.875 19.6348 14.709 19.6035 14.502C19.5723 14.291 19.5566 14.0957 19.5566 13.916ZM19.7441 11.1562L19.7559 11.918H18.6602C18.3516 11.918 18.0762 11.9434 17.834 11.9941C17.5918 12.041 17.3887 12.1133 17.2246 12.2109C17.0605 12.3086 16.9355 12.4316 16.8496 12.5801C16.7637 12.7246 16.7207 12.8945 16.7207 13.0898C16.7207 13.2891 16.7656 13.4707 16.8555 13.6348C16.9453 13.7988 17.0801 13.9297 17.2598 14.0273C17.4434 14.1211 17.668 14.168 17.9336 14.168C18.2656 14.168 18.5586 14.0977 18.8125 13.957C19.0664 13.8164 19.2676 13.6445 19.416 13.4414C19.5684 13.2383 19.6504 13.041 19.6621 12.8496L20.125 13.3711C20.0977 13.5352 20.0234 13.7168 19.9023 13.916C19.7812 14.1152 19.6191 14.3066 19.416 14.4902C19.2168 14.6699 18.9785 14.8203 18.7012 14.9414C18.4277 15.0586 18.1191 15.1172 17.7754 15.1172C17.3457 15.1172 16.9688 15.0332 16.6445 14.8652C16.3242 14.6973 16.0742 14.4727 15.8945 14.1914C15.7188 13.9062 15.6309 13.5879 15.6309 13.2363C15.6309 12.8965 15.6973 12.5977 15.8301 12.3398C15.9629 12.0781 16.1543 11.8613 16.4043 11.6895C16.6543 11.5137 16.9551 11.3809 17.3066 11.291C17.6582 11.2012 18.0508 11.1562 18.4844 11.1562H19.7441ZM19.2754 6.24023H20.1543C20.1543 6.54492 20.084 6.81641 19.9434 7.05469C19.8027 7.28906 19.6016 7.47266 19.3398 7.60547C19.0781 7.73828 18.7676 7.80469 18.4082 7.80469C17.8652 7.80469 17.4355 7.66016 17.1191 7.37109C16.8066 7.07812 16.6504 6.70117 16.6504 6.24023H17.5293C17.5293 6.4707 17.5957 6.67383 17.7285 6.84961C17.8613 7.02539 18.0879 7.11328 18.4082 7.11328C18.7207 7.11328 18.9434 7.02539 19.0762 6.84961C19.209 6.67383 19.2754 6.4707 19.2754 6.24023ZM23.4297 10.0137V15H22.3457V8.66016H23.3711L23.4297 10.0137ZM23.1719 11.5898L22.7207 11.5723C22.7246 11.1387 22.7891 10.7383 22.9141 10.3711C23.0391 10 23.2148 9.67773 23.4414 9.4043C23.668 9.13086 23.9375 8.91992 24.25 8.77148C24.5664 8.61914 24.916 8.54297 25.2988 8.54297C25.6113 8.54297 25.8926 8.58594 26.1426 8.67188C26.3926 8.75391 26.6055 8.88672 26.7812 9.07031C26.9609 9.25391 27.0977 9.49219 27.1914 9.78516C27.2852 10.0742 27.332 10.4277 27.332 10.8457V15H26.2422V10.834C26.2422 10.502 26.1934 10.2363 26.0957 10.0371C25.998 9.83398 25.8555 9.6875 25.668 9.59766C25.4805 9.50391 25.25 9.45703 24.9766 9.45703C24.707 9.45703 24.4609 9.51367 24.2383 9.62695C24.0195 9.74023 23.8301 9.89648 23.6699 10.0957C23.5137 10.2949 23.3906 10.5234 23.3008 10.7812C23.2148 11.0352 23.1719 11.3047 23.1719 11.5898ZM33.0859 8.66016H34.0703V14.8652C34.0703 15.4238 33.957 15.9004 33.7305 16.2949C33.5039 16.6895 33.1875 16.9883 32.7812 17.1914C32.3789 17.3984 31.9141 17.502 31.3867 17.502C31.168 17.502 30.9102 17.4668 30.6133 17.3965C30.3203 17.3301 30.0312 17.2148 29.7461 17.0508C29.4648 16.8906 29.2285 16.6738 29.0371 16.4004L29.6055 15.7559C29.8711 16.0762 30.1484 16.2988 30.4375 16.4238C30.7305 16.5488 31.0195 16.6113 31.3047 16.6113C31.6484 16.6113 31.9453 16.5469 32.1953 16.418C32.4453 16.2891 32.6387 16.0977 32.7754 15.8438C32.916 15.5938 32.9863 15.2852 32.9863 14.918V10.0547L33.0859 8.66016ZM28.7207 11.9004V11.7773C28.7207 11.293 28.7773 10.8535 28.8906 10.459C29.0078 10.0605 29.1738 9.71875 29.3887 9.43359C29.6074 9.14844 29.8711 8.92969 30.1797 8.77734C30.4883 8.62109 30.8359 8.54297 31.2227 8.54297C31.6211 8.54297 31.9688 8.61328 32.2656 8.75391C32.5664 8.89062 32.8203 9.0918 33.0273 9.35742C33.2383 9.61914 33.4043 9.93555 33.5254 10.3066C33.6465 10.6777 33.7305 11.0977 33.7773 11.5664V12.1055C33.7344 12.5703 33.6504 12.9883 33.5254 13.3594C33.4043 13.7305 33.2383 14.0469 33.0273 14.3086C32.8203 14.5703 32.5664 14.7715 32.2656 14.9121C31.9648 15.0488 31.6133 15.1172 31.2109 15.1172C30.832 15.1172 30.4883 15.0371 30.1797 14.877C29.875 14.7168 29.6133 14.4922 29.3945 14.2031C29.1758 13.9141 29.0078 13.5742 28.8906 13.1836C28.7773 12.7891 28.7207 12.3613 28.7207 11.9004ZM29.8047 11.7773V11.9004C29.8047 12.2168 29.8359 12.5137 29.8984 12.791C29.9648 13.0684 30.0645 13.3125 30.1973 13.5234C30.334 13.7344 30.5078 13.9004 30.7188 14.0215C30.9297 14.1387 31.1816 14.1973 31.4746 14.1973C31.834 14.1973 32.1309 14.1211 32.3652 13.9688C32.5996 13.8164 32.7852 13.6152 32.9219 13.3652C33.0625 13.1152 33.1719 12.8438 33.25 12.5508V11.1387C33.207 10.9238 33.1406 10.7168 33.0508 10.5176C32.9648 10.3145 32.8516 10.1348 32.7109 9.97852C32.5742 9.81836 32.4043 9.69141 32.2012 9.59766C31.998 9.50391 31.7598 9.45703 31.4863 9.45703C31.1895 9.45703 30.9336 9.51953 30.7188 9.64453C30.5078 9.76562 30.334 9.93359 30.1973 10.1484C30.0645 10.3594 29.9648 10.6055 29.8984 10.8867C29.8359 11.1641 29.8047 11.4609 29.8047 11.7773Z" fill="#52C41A"/>
                                        </svg>                                    
                                    </td>
                                </template>
                            </tr>
                        </template>
                        </tbody>
                  </table>
                </div>
            </div>
        </div>
    </div>
    <style>
        table tr td{
            background-color: #fff !important;
            font-size: 14px !important;
        }
    </style>
@endsection

@section('js')
<script>
    function chartComponent() {
      return {
        chart: null,
        chartData: {
          labels: [],
          datasets: [{
                label: 'Tổng giá trị tài sản',
                data: [],
                backgroundColor: '#682eec40',
                borderColor: '#682eec',
                borderWidth: 1
            },
            {
            label: "Tổng giá trị tài sản (line)",
            data: [],
            backgroundColor: "#fff",
            borderColor: "#682eec",
            borderWidth: 2,
            fill: false,
            type: "line",
            tension: 0.4,
            },
            ]
        },
        async fetchDataAndInitChart() {
            try {
                const response = await axios.get('/api/report/get-data-value-report');
                const data = response.data;

                this.chartData.labels = data.data.data.labels;
                this.chartData.datasets[0].data = data.data.data.values;
                this.chartData.datasets[1].data = data.data.data.values;
                
                document.getElementById('unitValueChart').innerText = data.data.unit;

                const ctx = document.getElementById('barChart').getContext('2d');
                this.chart = new Chart(ctx, {
                    type: 'bar',
                    data: this.chartData,
                    options: {
                        responsive: true,
                        plugins: {
                            legend: {
                                display: true,
                                position: 'top'
                            }
                        }
                    }
                });
            } catch (error) {
                console.error('Lỗi khi gọi API:', error);
            }
        }
        };
    }

    function fetchDataComponent() {
    return {
        // title: '',
        labels: '',
        arrDifference: [],
        values: [],

        async fetchData() {
            try {
                const response = await axios.get('/api/report/get-data-value-report');
                const data = response.data;

                // this.title = response.data.title;
                // this.description = response.data.description;
                this.values = data.data.data.values;
                this.labels = data.data.data.labels;
                this.arrDifference = data.data.data.arrDifference;
                console.log( data.data.data);
            } catch (error) {
                console.error('Lỗi khi gọi API:', error);
            }
        }
    };
}
</script>
<script>
    document.addEventListener('alpine:init', () => {
    Alpine.data('valueReport', () => ({

    }));
});
</script>
@endsection